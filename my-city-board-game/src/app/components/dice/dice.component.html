<div class="dice-container">
  <button
    mat-raised-button
    color="success"
    (click)="rollDice()"
    [disabled]="disabled()"
    class="roll-button"
  >
    Roll Dice
  </button>

  <div class="roll-output">
    @if (currentRolls && currentRolls.length > 0) {
      <h2>You rolled: {{ currentRolls.join(", ") }}</h2>
      @if (isDoubles()) {
        <p class="dice-info doubles">
          <span class="die-result special">
            ðŸŽ¯ DOUBLES! Place
            {{ getBuildingDisplayName(getBuildingFromDice(currentRolls[0])) }}
            in column {{ currentRolls[0] }}
          </span>
          <span class="die-result special">
            Then place Square anywhere!
          </span>
        </p>
      } @else {
        @if (stepSwitchingDisabled()) {
          <p class="dice-info">
            <span class="die-result">
              Step 1: Column {{ currentRolls[0] }},
              {{ getBuildingDisplayName(getBuildingFromDice(currentRolls[1])) }}
            </span>
            <span class="die-result">
              Step 2: Column {{ currentRolls[1] }},
              {{ getBuildingDisplayName(getBuildingFromDice(currentRolls[0])) }}
            </span>
          </p>
        } @else {
          <div class="dice-info step-buttons">
            <button 
              mat-raised-button 
              [color]="selectedStep === 'first' ? 'accent' : 'primary'"
              (click)="selectStep('first')"
              class="step-button"
              [class.selected]="selectedStep === 'first'"
            >
              Step 1: Column {{ currentRolls[0] }},
              {{ getBuildingDisplayName(getBuildingFromDice(currentRolls[1])) }}
            </button>
            <button 
              mat-raised-button 
              [color]="selectedStep === 'second' ? 'accent' : 'primary'"
              (click)="selectStep('second')"
              class="step-button"
              [class.selected]="selectedStep === 'second'"
            >
              Step 2: Column {{ currentRolls[1] }},
              {{ getBuildingDisplayName(getBuildingFromDice(currentRolls[0])) }}
            </button>
          </div>
        }
      }
    }
  </div>
</div>
